(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(6),a=n(4),s=n(7),i=n(3),o=n(8),u=n(10),j=n(11),l=n(9),b=(n(20),n(0)),h=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={hasError:!1},c}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){console.log("Inside component Did catch"),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(b.jsxs)("div",{children:["Loading Failed",error]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(c.Component);function d(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useTransition)(),u=Object(i.a)(o,2),j=u[0],l=u[1],d=Object(c.useState)(30),O=Object(i.a)(d,2),f=O[0],v=O[1],p=Object(c.useState)(""),m=Object(i.a)(p,2),g=m[0],x=m[1],k=Object(c.useState)(""),S=Object(i.a)(k,2),E=S[0],w=S[1],D=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){var t,n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Fetch Commits"),t=sessionStorage.getItem("token"),console.log(t),!t){e.next=20;break}return e.prev=4,e.next=7,fetch("https://api.github.com/repos/hpeddula/GainSight-Test/commits",{headers:{Accept:"application/vnd.github+json",Authorization:"Bearer ".concat(t)}});case 7:return n=e.sent,e.next=10,n.json();case 10:c=e.sent,l((function(){r(c)})),w(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r([]);case 18:e.next=21;break;case 20:w("Enter Access Token to get Git Commits");case 21:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}(),y=Object(c.useCallback)((function(e){var t=e,n=setInterval((function(){v(t),--t<0&&clearInterval(n)}),1e3)}),[v]);Object(c.useEffect)((function(){g&&y(30)}),[y,g]),Object(c.useEffect)((function(){0===f&&(D(),y(30))}),[f,y]),Object(c.useEffect)((function(){D()}),[]),Object(c.useEffect)((function(){g&&D()}),[g]);var C=function(e){var t=new Date(e).toDateString().split(" "),n=Object(i.a)(t,3)[1],c=new Date(e).getFullYear().toString().split(""),r=Object(i.a)(c,4),a=r[2],s=r[3],o=new Date(e).getHours(),u=1===new Date(e).getMinutes().toString().length?"0".concat(new Date(e).getMinutes().toString()):new Date(e).getMinutes(),j=o>=12?"PM":"AM";return"".concat(n," ").concat(a).concat(s,", ").concat(o,":").concat(u," ").concat(j," ")};return Object(b.jsx)(h,{children:Object(b.jsxs)("div",{className:"App",children:[E?Object(b.jsx)("div",{className:"infoBanner",children:Object(b.jsx)("marquee",{direction:"right",children:Object(b.jsx)("h4",{children:E})})}):null,Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"Git Hub Commits"}),Object(b.jsxs)("h4",{children:["Timer :",f]}),Object(b.jsx)("input",{type:"text",onBlur:function(e){return t=e.target.value,x(t),void sessionStorage.setItem("token",t);var t}}),Object(b.jsx)("button",{onClick:D,children:"Refresh "})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("ul",{children:n.length?j?Object(b.jsx)("h2",{children:"Loading...."}):null===n||void 0===n?void 0:n.map((function(e,t){var n=e.commit,c=n.author,r=c.name,a=c.date,s=n.message;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("h5",{children:[s," "]}),Object(b.jsxs)("h6",{children:[C(a)," by ",r]})]},t)})):null})})]})})}var O=document.getElementById("root");Object(r.createRoot)(O).render(Object(b.jsx)(c.StrictMode,{children:Object(b.jsx)(d,{})}))}},[[22,1,2]]]);
//# sourceMappingURL=main.7113c92f.chunk.js.map